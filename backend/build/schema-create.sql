
    create table Poll (
        createdBy_id bigint,
        id bigint generated by default as identity,
        publishedAt timestamp(6) with time zone,
        validUntil timestamp(6) with time zone,
        question varchar(255),
        primary key (id)
    );

    create table users (
        id bigint generated by default as identity,
        email varchar(255),
        username varchar(255),
        primary key (id)
    );

    create table Vote (
        id bigint generated by default as identity,
        publishedAt timestamp(6) with time zone,
        user_id bigint,
        votesOn_id bigint,
        primary key (id)
    );

    create table VoteOption (
        presentationOrder integer,
        id bigint generated by default as identity,
        poll_id bigint,
        caption varchar(255),
        primary key (id)
    );

    alter table if exists Poll 
       add constraint FKdkmoyqj1q082eply7x3x5rj4u 
       foreign key (createdBy_id) 
       references users;

    alter table if exists Vote 
       add constraint FKokmd21jvr58kf9tkj6esuovna 
       foreign key (user_id) 
       references users;

    alter table if exists Vote 
       add constraint FKk63v32ombu38t8rp6ysych65i 
       foreign key (votesOn_id) 
       references VoteOption;

    alter table if exists VoteOption 
       add constraint FK5ak8cifar7gjf4gtkxh5fi68h 
       foreign key (poll_id) 
       references Poll;

    create table Poll (
        createdBy_id bigint,
        id bigint generated by default as identity,
        publishedAt timestamp(6) with time zone,
        validUntil timestamp(6) with time zone,
        question varchar(255),
        primary key (id)
    );

    create table users (
        id bigint generated by default as identity,
        email varchar(255),
        username varchar(255),
        primary key (id)
    );

    create table Vote (
        id bigint generated by default as identity,
        publishedAt timestamp(6) with time zone,
        user_id bigint,
        votesOn_id bigint,
        primary key (id)
    );

    create table VoteOption (
        presentationOrder integer,
        id bigint generated by default as identity,
        poll_id bigint,
        caption varchar(255),
        primary key (id)
    );

    alter table if exists Poll 
       add constraint FKdkmoyqj1q082eply7x3x5rj4u 
       foreign key (createdBy_id) 
       references users;

    alter table if exists Vote 
       add constraint FKokmd21jvr58kf9tkj6esuovna 
       foreign key (user_id) 
       references users;

    alter table if exists Vote 
       add constraint FKk63v32ombu38t8rp6ysych65i 
       foreign key (votesOn_id) 
       references VoteOption;

    alter table if exists VoteOption 
       add constraint FK5ak8cifar7gjf4gtkxh5fi68h 
       foreign key (poll_id) 
       references Poll;

    create table Poll (
        createdBy_id bigint,
        id bigint generated by default as identity,
        publishedAt timestamp(6) with time zone,
        validUntil timestamp(6) with time zone,
        question varchar(255),
        primary key (id)
    );

    create table users (
        id bigint generated by default as identity,
        email varchar(255),
        username varchar(255),
        primary key (id)
    );

    create table Vote (
        id bigint generated by default as identity,
        publishedAt timestamp(6) with time zone,
        user_id bigint,
        votesOn_id bigint,
        primary key (id)
    );

    create table VoteOption (
        presentationOrder integer,
        id bigint generated by default as identity,
        poll_id bigint,
        caption varchar(255),
        primary key (id)
    );

    alter table if exists Poll 
       add constraint FKdkmoyqj1q082eply7x3x5rj4u 
       foreign key (createdBy_id) 
       references users;

    alter table if exists Vote 
       add constraint FKokmd21jvr58kf9tkj6esuovna 
       foreign key (user_id) 
       references users;

    alter table if exists Vote 
       add constraint FKk63v32ombu38t8rp6ysych65i 
       foreign key (votesOn_id) 
       references VoteOption;

    alter table if exists VoteOption 
       add constraint FK5ak8cifar7gjf4gtkxh5fi68h 
       foreign key (poll_id) 
       references Poll;
